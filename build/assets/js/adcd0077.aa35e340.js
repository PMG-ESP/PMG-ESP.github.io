"use strict";(self.webpackChunkservices_reseaux=self.webpackChunkservices_reseaux||[]).push([[623],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),u=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(o.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,b=d["".concat(o,".").concat(m)]||d[m]||p[m]||l;return n?a.createElement(b,i(i({ref:t},c),{},{components:n})):a.createElement(b,i({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var u=2;u<l;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},737:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>s,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const l={},i=void 0,s={unversionedId:"Services Avanc\xe9s/Gitlab+LDAP",id:"Services Avanc\xe9s/Gitlab+LDAP",title:"Gitlab+LDAP",description:"La plateforme tout-en-un de GitLab permet de planifier des projets et de g\xe9rer le code source, l'approche CI/CD, et la s\xe9curit\xe9. Elle constitue une source unique pour tous les utilisateurs, ind\xe9pendamment du r\xf4le qu'ils exercent. Donnez \xe0 vos \xe9quipes les moyens d'innover rapidement en supprimant les complexit\xe9s de la cha\xeene d'outils et en am\xe9liorant la visibilit\xe9 d'une extr\xe9mit\xe9 \xe0 l'autre.",source:"@site/docs\\Services Avanc\xe9s\\Gitlab+LDAP.md",sourceDirName:"Services Avanc\xe9s",slug:"/Services Avanc\xe9s/Gitlab+LDAP",permalink:"/Services Avanc\xe9s/Gitlab+LDAP",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Services Avanc\xe9s/Gitlab+LDAP.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Freeradius+LDAP",permalink:"/Services Avanc\xe9s/Freeradius+LDAP"},next:{title:"Service-LDAP",permalink:"/Services Avanc\xe9s/Service-LDAP"}},o={},u=[{value:"Installation et configuration de Gitlab avec un annuaire LDAP sous ubuntu(20.04)",id:"installation-et-configuration-de-gitlab-avec-un-annuaire-ldap-sous-ubuntu2004",level:3},{value:"Installation de gitlab",id:"installation-de-gitlab",level:4},{value:"Configuration de LDAP",id:"configuration-de-ldap",level:4},{value:"Maintenant vous pouvez vous connecter \xe0 gitlab avec les utilisateurs dans l&#39;annuaire",id:"maintenant-vous-pouvez-vous-connecter-\xe0-gitlab-avec-les-utilisateurs-dans-lannuaire",level:4}],c={toc:u};function p(e){let{components:t,...l}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"La plateforme tout-en-un de GitLab permet de planifier des projets et de g\xe9rer le code source, l'approche CI/CD, et la s\xe9curit\xe9. Elle constitue une source unique pour tous les utilisateurs, ind\xe9pendamment du r\xf4le qu'ils exercent. Donnez \xe0 vos \xe9quipes les moyens d'innover rapidement en supprimant les complexit\xe9s de la cha\xeene d'outils et en am\xe9liorant la visibilit\xe9 d'une extr\xe9mit\xe9 \xe0 l'autre."),(0,r.kt)("h3",{id:"installation-et-configuration-de-gitlab-avec-un-annuaire-ldap-sous-ubuntu2004"},"Installation et configuration de Gitlab avec un annuaire LDAP sous ubuntu(20.04)"),(0,r.kt)("h4",{id:"installation-de-gitlab"},"Installation de gitlab"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Installer les d\xe9pendences")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"sudo apt update\nsudo apt-get install -y curl openssh-server ca-certificates tzdata perl\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Ajouter le d\xe9pot et intaller le paquet")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Lancer Gitlab avec la commande")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"sudo gitlab-ctl start\n")),(0,r.kt)("h4",{id:"configuration-de-ldap"},"Configuration de LDAP"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"sudo nano /etc/gitlab/gitlab.rb\n")),(0,r.kt)("p",null,"Renseigner les param\xe8tres de l'annuaire"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"### LDAP Settings\n###! Docs: https://docs.gitlab.com/omnibus/settings/ldap.html\n###! **Be careful not to break the indentation in the ldap_servers block. It is\n###!   in yaml format and the spaces must be retained. Using tabs will not work.**\n\n gitlab_rails['ldap_enabled'] = true\n gitlab_rails['prevent_ldap_sign_in'] = false\n\n###! **remember to close this block with 'EOS' below**\ngitlab_rails['ldap_servers'] = YAML.load <<-'EOS'\n   main:\n# 'main' is the GitLab 'provider ID' of this LDAP server\n     label: 'LDAP'\n     host: '127.0.0.1'\n     port: 389\n     uid: 'uid'\n     bind_dn: 'cn=admin,dc=esp,dc=sn'\n     password: 'passer'\n     encryption: 'plain' # \"start_tls\" or \"simple_tls\" or \"plain\"\n     verify_certificates: false\n#     smartcard_auth: false\n#     active_directory: true\n     allow_username_or_email_login: false\n     lowercase_usernames: false\n#     block_auto_created_users: false\n     base: 'ou=dic2,ou=telecoms,ou=dgi,dc=esp,dc=sn'\n     user_filter: '(&(objectclass=inetOrgPerson)(objectclass=simpleSecurityObject))'\n     attributes:\n       username: ['uid']\n       email: ['mail']\n       name: ['displayName']\n#     ## EE only\n     group_base: ''\n     admin_group: ''\n     sync_ssh_keys: false\n#\n\n")),(0,r.kt)("h4",{id:"maintenant-vous-pouvez-vous-connecter-\xe0-gitlab-avec-les-utilisateurs-dans-lannuaire"},"Maintenant vous pouvez vous connecter \xe0 gitlab avec les utilisateurs dans l'annuaire"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"photo",src:n(3878).Z,width:"958",height:"399"})))}p.isMDXComponent=!0},3878:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/gitlab1-f3be43082c1ad27c3a45737c5daaa54d.png"}}]);